---
layout: post
title: "送给自己，送给她"
date: 2013-03-05 21:23
comments: true
categories: 
---

今天是我们的半年的纪念日，半年前她答应了我，有人说不给女朋友写个小游戏的程序员不是好程序员，很显然，目前为止我算不上一个好程序员， 不过这几天玩了玩three.js，感叹于其强大，也想去读读几个demo，初步了解一下用法。正好遇到这个比较特殊的日子，那就改造一个属于我们的东西出来看看， 也送给我感谢的她。

{% jsfiddle PhXpu js,html,css,result default 600px 800px %}

代码基本都是根据three.js官网上的的demo改变的， 其中主要涉及了场景，相机的使用，同时也引入了spark粒子系统，其中桃心的全部由粒子系统处理。

对于这些概念都只是略有耳闻，而其中使用贝塞尔曲线绘制桃心的代码我觉得自己可以保留，自己也跟着绘制了一次，再次留下留作纪念。

{% codeblock lang:javascript %}
heartShape=newTHREE.Shape();
heartShape.moveTo(x+25,y+25);
heartShape.bezierCurveTo(x+25,y+25,x+20,y,x,y);
heartShape.bezierCurveTo(x-30,y,x-30,y+35,x-30,y+35);
heartShape.bezierCurveTo(x-30,y+55,x-10,y+77,x+25,y+95);
heartShape.bezierCurveTo(x+60,y+77,x+80,y+55,x+80,y+35);
heartShape.bezierCurveTo(x+80,y+35,x+80,y,x+50,y);
heartShape.bezierCurveTo(x+35,y,x+25,y+25,x+25,y+25);
{% endcodeblock %}

这里的heartShape可以直接用canvas的2d context替换即可在canvas上绘制出一个桃心。
